<?xml version="1.0" encoding="UTF-8"?>
<databaseChangeLog 
 xmlns="http://www.liquibase.org/xml/ns/dbchangelog" 
 xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
 xmlns:n0="http://www.oracle.com/xml/ns/dbchangelog-ext" 
 xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog 
 http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-latest.xsd">
 <changeSet id="f4a18c648d675e9167af7f4dbbc4f34938fdcb9f" author="(WKSP_OACLABWS)-Generated" failOnError="true"    runOnChange="false"  runAlways="false"  runInTransaction="false"  >
  <n0:createSxmlObject objectName="EBA_PROJECTS_V" objectType="VIEW" ownerName="WKSP_OACLABWS"  replaceIfExists="false" >
    <n0:source><![CDATA[
  <VIEW xmlns="http://xmlns.oracle.com/ku" version="1.0">
   <SCHEMA>%USER_NAME%</SCHEMA>
   <NAME>EBA_PROJECTS_V</NAME>
   <DEFAULT_COLLATION>USING_NLS_COMP</DEFAULT_COLLATION>
   <COL_LIST>
      <COL_LIST_ITEM>
         <NAME>ID</NAME>
         <ANNOTATION_LIST></ANNOTATION_LIST>
      </COL_LIST_ITEM>
      <COL_LIST_ITEM>
         <NAME>NAME</NAME>
         <ANNOTATION_LIST></ANNOTATION_LIST>
      </COL_LIST_ITEM>
      <COL_LIST_ITEM>
         <NAME>STATUS</NAME>
         <ANNOTATION_LIST></ANNOTATION_LIST>
      </COL_LIST_ITEM>
      <COL_LIST_ITEM>
         <NAME>PROJECT_LEAD</NAME>
         <ANNOTATION_LIST></ANNOTATION_LIST>
      </COL_LIST_ITEM>
      <COL_LIST_ITEM>
         <NAME>COMPLETED_DATE</NAME>
         <ANNOTATION_LIST></ANNOTATION_LIST>
      </COL_LIST_ITEM>
      <COL_LIST_ITEM>
         <NAME>BUDGET</NAME>
         <ANNOTATION_LIST></ANNOTATION_LIST>
      </COL_LIST_ITEM>
      <COL_LIST_ITEM>
         <NAME>COST</NAME>
         <ANNOTATION_LIST></ANNOTATION_LIST>
      </COL_LIST_ITEM>
      <COL_LIST_ITEM>
         <NAME>BUDGET_V_COST</NAME>
         <ANNOTATION_LIST></ANNOTATION_LIST>
      </COL_LIST_ITEM>
      <COL_LIST_ITEM>
         <NAME>MILESTONES</NAME>
         <ANNOTATION_LIST></ANNOTATION_LIST>
      </COL_LIST_ITEM>
      <COL_LIST_ITEM>
         <NAME>TASKS</NAME>
         <ANNOTATION_LIST></ANNOTATION_LIST>
      </COL_LIST_ITEM>
   </COL_LIST>
   <ANNOTATION_LIST></ANNOTATION_LIST>
   <SUBQUERY>select p.id
,      p.name
,      s.description status
,      p.project_lead
,      p.completed_date
,      p.budget
,      (select sum(t.cost)
        from eba_project_tasks t
        where t.project_id = p.id
       ) cost
,       p.budget - (select sum(t.cost)
                   from eba_project_tasks t
                   where t.project_id = p.id
       ) budget_v_cost
,      (select count(*)
        from eba_project_milestones m
        where m.project_id = p.id
       ) milestones 
,      (select count(*)
        from eba_project_tasks t
        where t.project_id = p.id
       ) tasks
from eba_projects p
,    eba_project_status s
where s.id = p.status_id</SUBQUERY>
</VIEW>]]></n0:source>
      </n0:createSxmlObject>
 </changeSet>
</databaseChangeLog>
